<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>Syllabus Template Slides</title>
    <link rel="stylesheet" href="./../../css/reveal.css" />
    <link rel="stylesheet" href="./../../css/theme/black.css" id="theme" />
    <link rel="stylesheet" href="./../../css/highlight/zenburn.css" />
    <link rel="stylesheet" href="./../../css/print/paper.css" type="text/css" media="print" />
    <link rel="stylesheet" href="./../../assets/Reveal/makeschool.css" />

    <script>
      document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>');
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template">## UserDefaults & Property Wrappers

Let's say we want to manage saving a user's token with UserDefaults. We will be accessing this token in several parts within the app. We can make the process of requesting data much easier if we have the UserDefault request in one place only, in a way that we can reuse that piece of code. (Similar to what we did with the Plist)

Complete the implementation of this helper struct and then test it in an empty project to see if you can successfully store and retrieve the token.

```Swift
   struct Defaults {

        static let token = "token"
        static let tokenKey = "tokenKey"

        struct Model {
            var token: String?

            init(token: String) {
              //complete the initializer
            }
        }

        static var saveToken = { (token: String) in
          //complete the method
        }

        static var getToken = { () -> Model in
          //complete the method
        }

        static func clearUserData(){
          //complete the method using removeObject
        }
    }

```

## What if...?

We not only want to save the token, but also the first time the user entered a section of the app, or user settings, whether they prefer light or dark mode, language selection etc.

That's a lot of structs we need to back up with UserDefaults.
</script></section><section  data-markdown><script type="text/template">
## Property Wrappers

We can solve the inconvenience using Property Wrappers, introduced in Swift 5.1

First read about what they are in [this article](https://www.swiftbysundell.com/articles/property-wrappers-in-swift/) by John Sundell. (Stop when you get to the  Decoding and overriding section)

Before you read about it, think how you can improve the implementation of your `Defaults` struct.

Now take a look at how this article combines property wrappers with UserDefaults and see if you can adjust your implementation to store:

- Token : String
- FirstTimeUser : Bool
- DarkMode: Bool
- Languague : String (Ex. EN, SP) <aside class="notes"><p>always capitalized</p>
<p>Complete the assignment for this activity on <a href="https://www.gradescope.com">Gradescope</a>.</p>
</aside></script></section></div>
    </div>

    <script src="./../../js/reveal.js"></script>

    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // Optional libraries used to extend on reveal.js
      var deps = [
        { src: './../../plugin/markdown/marked.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
        { src: './../../plugin/markdown/markdown.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
        { src: './../../plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: './../../plugin/zoom-js/zoom.js', async: true },
        { src: './../../plugin/notes/notes.js', async: true },
        { src: './../../plugin/math/math.js', async: true }
      ];

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        dependencies: deps
      };

      // options from URL query string
      var queryOptions = Reveal.getQueryHash() || {};

      var options = extend(defaultOptions, {"controls":true,"progress":true,"autoPlayMedia":false,"slideNumber":"c/t","showSlideNumber":"all","controlsTutorial":true,"controlsLayout":"edges","transition":"slide","transitionSpeed":"medium","minScale":0.5,"maxScale":3}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
