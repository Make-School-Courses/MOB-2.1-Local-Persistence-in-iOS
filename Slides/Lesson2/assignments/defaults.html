<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>Syllabus Template Slides</title>
    <link rel="shortcut icon" href="./../../favicon.ico"/>
    <link rel="stylesheet" href="./../../dist/reveal.css" />
    <link rel="stylesheet" href="./../../dist/theme/white.css" id="theme" />
    <link rel="stylesheet" href="./../../css/highlight/zenburn.css" />
    <link rel="stylesheet" href="./../../assets/Reveal/makeschool.css" />

    <script>
      document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>');
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template">## UserDefaults & Property Wrappers

Let's say we want to manage saving a user's email with UserDefaults. We will be accessing this email in several parts within the app. We can make the process of requesting data much easier if we have the UserDefault request in one place only, in a way that we can reuse that piece of code. (Similar to what we did with the Plist)

Complete the implementation of this helper struct and then test it in an empty project to see if you can successfully store and retrieve the email.

```Swift
   struct Defaults {

        static let token = "email"
        static let tokenKey = "emailKey"

        struct EmailModel {
            var email: String?
        }

        static var saveToken = { (token: String) in
          //complete the method
        }

        static var getToken = { () -> String? in
          //complete the method
        }

        static func clearUserData(){
          //complete the method using removeObject
        }
    }

```

## What if...?

We not only want to save the email, but also the first time the user entered a section of the app, or user settings, whether they prefer light or dark mode, language selection etc.

That's a lot of structs we need to back up with UserDefaults.
</script></section><section  data-markdown><script type="text/template">
## Property Wrappers

We can solve the inconvenience using Property Wrappers, introduced in Swift 5.1

First read about what they are in [this article](https://www.swiftbysundell.com/articles/property-wrappers-in-swift/) by John Sundell. (**Stop when you get to the  Decoding and overriding section**)

Think how you can improve the implementation of your `Defaults` struct.

Now take a look at how [this article](https://medium.com/better-programming/property-wrappers-in-swift-b8011c47545d) combines property wrappers with UserDefaults and see if you can adjust your implementation to store:

- Email : String
- FirstTimeUser : Bool
- DarkMode: Bool
- Languague : String (Ex. EN, SP, JP)


Complete the assignment for this activity on [Gradescope](https://www.gradescope.com).

## Additional Resources:

- [Video Explanation](https://www.youtube.com/watch?v=-sNog7Idqqg)
- [Property Wrappers vs Extensions](https://www.youtube.com/watch?v=5WUx9NsP7-k)
</script></section></div>
    </div>

    <script src="./../../dist/reveal.js"></script>

    <script src="./../../plugin/markdown/markdown.js"></script>
    <script src="./../../plugin/highlight/highlight.js"></script>
    <script src="./../../plugin/zoom/zoom.js"></script>
    <script src="./../../plugin/notes/notes.js"></script>
    <script src="./../../plugin/math/math.js"></script>
    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath
        ]
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {"controls":true,"progress":true,"autoPlayMedia":false,"slideNumber":"c/t","showSlideNumber":"all","controlsTutorial":true,"controlsLayout":"edges","transition":"slide","transitionSpeed":"medium","minScale":0.5,"maxScale":3}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
